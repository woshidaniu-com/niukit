(function(a){a.bootui=a.bootui||{};a.bootui.widget=a.bootui.widget||{};a.bootui.widget.Adapt=function(c,b){b.beforeRender.call(this,c);try{this.initialize.call(this,c,b)}catch(d){b.errorRender.call(this,d)}b.afterRender.call(this,c)};a.bootui.widget.Adapt.prototype={constructor:a.bootui.widget.Adapt,initialize:function(f,p){var i=p.buttons||[];if(i&&i.length>0){var d=a(f).innerHeight();var g=new Array();g.push('<div class="adapt-body">');g.push('<div class="btn-group '+(p.group_class||"")+'">');a.each(p.buttons||[],function(r,q){g.push('<button class="btn btn-default btn-sm btn-design '+(q.btn_class||" width-100 ")+((d<=35)?" btn-design-sm":"")+' " type="button">'+(q.btn_text||"\u6309\u94ae"+r)+" </button>")});g.push("</div>");g.push("</div>");a(f).after(g.join(""));a(f).after('<div class="adapt-backdrop"></div>');var e=a(a(f).nextAll(".adapt-body")[0]);var o=a(a(f).nextAll(".adapt-backdrop")[0]);var h=parseInt(a(f).css("padding-left")||"0");var n=parseInt(a(f).css("padding-right")||"0");var b=a(f).outerWidth(true)-h-n;var l=850;var m=a(f).closest(".bootbox");var j,c;if(m.size()>0){l=a(f).closest(".bootbox").css("z-index");j=a(f).position().top;c=a(f).position().left}else{j=a(f).offset().top;c=a(f).offset().left}a(o).css({width:b,height:d,position:"absolute",top:j,left:c+h,"z-index":l+100}).hide();a(e).css({width:b,height:d,position:"absolute",top:j,left:c+h,"z-index":l+110}).hide();a.each(p.buttons||[],function(s,r){var q=a(e).find(".btn:eq("+s+")");q.click(r.onBtnClick||a.noop).dblclick(r.onBtnDbClick||a.noop).each(function(){this.onmousedown=function(){this.blur();this.hideFocus=true;this.style.outline="none"};this.onmouseout=this.onmouseup=function(){this.blur();this.hideFocus=false;this.style.outline=null}});if(d>35){if(d>50){q.css({"margin-top":Math.round((d-q.innerHeight())/2)-20})}else{q.addClass("small")}}});var k=a(".adapt-body,.adapt-backdrop");a(f).unbind().mouseenter(function(q){a(k).hide();a.each([o,e],function(){a(this).show()});q.stopPropagation()});a(e).mouseleave(function(q){a.each([o,e],function(){a(this).hide();a(k).hide()});q.stopPropagation()})}a.extend(true,this,{destroy:function(){a(f).off(".adapt").removeData("bootui.adapt")}})},setDefaults:function(b){a.extend(a.fn.adapt.defaults,b)},getDefaults:function(){return a.fn.adapt.defaults}};a.fn.adapt=function(c){var b=a.grep(arguments||[],function(e,d){return d>=1});return this.each(function(){var f=a(this),e=f.data("bootui.adapt");if(!e&&c=="destroy"){return}if(!e){var d=a.extend(true,{},a.fn.adapt.defaults,f.data(),((typeof c=="object"&&c)?c:{}));f.data("bootui.adapt",(e=new a.bootui.widget.Adapt(this,d)))}if(typeof c=="string"){e[c].apply(e,[].concat(b||[]))}})};a.fn.adapt.defaults={version:"1.0.0",beforeRender:a.noop,errorRender:a.noop,afterRender:a.noop,buttons:[{btn_text:"\u7f16\u8f91",onBtnClick:a.noop,onBtnDbClick:a.noop,btn_class:"width-100"}],group_class:"width-30"}})(jQuery);
