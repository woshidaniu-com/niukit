(function(a){a.fn.localize=function(){return a(this).each(function(){var d=a(this);var b=d.data("localize");if(a.founded(b)){var c=a.i18n.get(b);if(d.is("input[type=text]")||d.is("input[type=password]")||d.is("input[type=email]")){d.attr("placeholder",c)}else{if(d.is("input[type=button]")||d.is("input[type=submit]")){d.attr("value",c)}else{d.text(c)}}}})};a.i18n=a.i18n||{};a.i18n.map=a.i18n.map||{};a.i18n.set=function(b,c){a.i18n.map[b]=c};a.i18n.get=function(b){var c=a.i18n.map[b];if(!c){return null}return c};a.i18n.remove=function(b){if(b){a.i18n.map[b]=null;delete a.i18n.map[b]}};a.i18n.clear=function(){a.i18n.map={}};a.i18n.localize=function(){a("[data-localize]").each(function(){a(this).localize()})};a.i18n.format=function(b,c){if(arguments.length===1){return function(){var d=a.makeArray(arguments);d.unshift(b);return a.i18n.format.apply(this,d)}}if(arguments.length>2&&c.constructor!==Array){c=a.makeArray(arguments).slice(1)}if(c.constructor!==Array){c=[c]}a.each(c,function(d,e){b=a.i18n.replacement(b).replace(new RegExp("\\{"+d+"\\}","g"),function(){return e})});return b};a.i18n.replacement=function(f){var e;if(typeof(f)=="string"){e=0;while((e=f.indexOf("\\",e))!=-1){if(f.charAt(e+1)=="t"){f=f.substring(0,e)+"\t"+f.substring((e++)+2)}else{if(f.charAt(e+1)=="r"){f=f.substring(0,e)+"\r"+f.substring((e++)+2)}else{if(f.charAt(e+1)=="n"){f=f.substring(0,e)+"\n"+f.substring((e++)+2)}else{if(f.charAt(e+1)=="f"){f=f.substring(0,e)+"\f"+f.substring((e++)+2)}else{if(f.charAt(e+1)=="\\"){f=f.substring(0,e)+"\\"+f.substring((e++)+2)}else{f=f.substring(0,e)+f.substring(e+1)}}}}}}var b=[],d,c;e=0;while(e<f.length){if(f.charAt(e)=="'"){if(e==f.length-1){f=f.substring(0,e)}else{if(f.charAt(e+1)=="'"){f=f.substring(0,e)+f.substring(++e)}else{d=e+2;while((d=f.indexOf("'",d))!=-1){if(d==f.length-1||f.charAt(d+1)!="'"){f=f.substring(0,e)+f.substring(e+1,d)+f.substring(d+1);e=d-1;break}else{f=f.substring(0,d)+f.substring(++d)}}if(d==-1){f=f.substring(0,e)+f.substring(e+1)}}}}else{e++}}}return f};a.i18n.prop=function(b){if(!b){return null}var c=a.i18n.get(b);if(!c){return null}var d=[];if(arguments.length==2&&a.isArray(arguments[1])){d=arguments[1]}else{if(arguments.length>=2&&!a.isArray(arguments[1])){d=a.makeArray(arguments).slice(1)}}c=a.i18n.replacement(c);if(c.length==0){return""}else{return a.i18n.format(c,d)}};a.i18n.grid=function(c){if(a.isPlainObject(c)&&c.i18nable===true){var b=c.colModel;if(b){a.each(b,function(e,f){if(!(f.hidden===true||f.key===true)){var g=a.i18n.get(f.label);if(a.founded(g)){f.label=g}else{var d=f.index||f.name;var g=a.i18n.get(d);if(a.founded(g)){f.label=g}}}})}}return c}}(jQuery));
