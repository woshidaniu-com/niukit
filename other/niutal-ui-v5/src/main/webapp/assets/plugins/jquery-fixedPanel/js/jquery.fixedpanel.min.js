/* FixedPanel, v1.2.1 (2012-07-12), Huberto Kusters */
(function(a){var d="fixedpanel-element",c="fixedpanel-container",v=null,z=false,s=function(A){if(window.console){console.log(A);
}},o=function(A){if(A instanceof jQuery){return A.get(0).tagName==="BODY";}return A.tagName==="BODY";
},q=function(A){if(A instanceof jQuery){return A.get(0).tagName==="HTML";}return A.tagName==="HTML";
},p=function(A){if(A instanceof jQuery){return A.get(0)===document||A.get(0)===document.documentElement;
}return A===document||A===document.documentElement;},r=function(A){if(A instanceof jQuery){return A.get(0)===window;
}return A===window;},l=function(A,C){var B=A.get(0),D=C?C.get(0):null,E={top:B.offsetTop||0,left:B.offsetLeft||0};
while(!o(B)&&B.offsetParent&&B.offsetParent!=D&&!o(B.offsetParent)&&!q(B.offsetParent)){B=B.offsetParent;
E.top+=B.offsetTop||0;E.left+=B.offsetLeft||0;E.top-=B.scrollTop||0;E.left-=B.scrollLeft||0;
if(!j()){E.top+=B.clientTop||0;E.left+=B.clientLeft||0;}}if(j()&&B.offsetParent){E.top-=B.offsetParent.clientTop||0;
E.left-=B.offsetParent.clientLeft||0;}if(!o(A)&&(D===null||o(D))){E.top-=a(window).scrollTop()||0;
E.left-=a(window).scrollLeft()||0;}return E;},g=function(A){var B=A.get(0);if(!o(B)){return{width:B.clientWidth,height:B.clientHeight};
}return{width:a(window).width(),height:a(window).height()};},f=function(A){var B=A.get(0);
return{width:B.offsetWidth,height:B.offsetHeight};},j=function(){if(v!==null){return v;
}var A=a("<div></div>").css({position:"absolute",width:"100px",height:"100px",border:"10px solid black",left:"10px",top:"10px",visibility:"hidden"}),B=a("<div></div>").css({position:"relative",width:"10px",height:"10px",border:"0px",left:"10px",top:"10px",visibility:"hidden"}),C=null,D,E;
a("body").append(A.append(B));C=B.get(0);D=C.offsetLeft;E=C.offsetTop;A.css({border:"0px"});
v=D!=C.offsetLeft||E!=C.offsetTop;A.remove();return v;},n=function(A,B){var C={xmin:0,xmax:0,ymin:0,ymax:0,leftPriority:0,rightPriority:0,topPriority:0,bottomPriority:0};
if(A.xmin>B.xmin){C.xmin=A.xmin;C.leftPriority=A.leftPriority;}else{if(A.xmin===B.xmin){C.xmin=A.xmin;
C.leftPriority=Math.max(A.leftPriority,B.leftPriority);}else{C.xmin=B.xmin;C.leftPriority=B.leftPriority;
}}if(A.xmax<B.xmax){C.xmax=A.xmax;C.rightPriority=A.rightPriority;}else{if(A.xmax===B.xmax){C.xmax=A.xmax;
C.rightPriority=Math.max(A.rightPriority,B.rightPriority);}else{C.xmax=B.xmax;C.rightPriority=B.rightPriority;
}}if(A.ymin>B.ymin){C.ymin=A.ymin;C.topPriority=A.topPriority;}else{if(A.ymin===B.ymin){C.ymin=A.ymin;
C.topPriority=Math.max(A.topPriority,B.topPriority);}else{C.ymin=B.ymin;C.topPriority=B.topPriority;
}}if(A.ymax<B.ymax){C.ymax=A.ymax;C.bottomPriority=A.bottomPriority;}else{if(A.ymax===B.ymax){C.ymax=A.ymax;
C.bottomPriority=Math.max(A.bottomPriority,B.bottomPriority);}else{C.ymax=B.ymax;
C.bottomPriority=B.bottomPriority;}}return C;},u=function(A,B){var C={moved:false,fitting:true};
if(A.xmin<B.xmin){C.moved=true;A.xmax+=B.xmin-A.xmin;A.xmin=B.xmin;if(A.xmax>B.xmax){C.fitting=false;
if(B.rightPriority>B.leftPriority){A.xmin-=A.xmax-B.xmax;A.xmax=B.xmax;}}}else{if(A.xmax>B.xmax){C.moved=true;
A.xmin-=A.xmax-B.xmax;A.xmax=B.xmax;if(A.xmin<B.xmin){C.fitting=false;if(B.leftPriority>B.rightPriority){A.xmax+=B.xmin-A.xmin;
A.xmin=B.xmin;}}}}if(A.ymin<B.ymin){C.moved=true;A.ymax+=B.ymin-A.ymin;A.ymin=B.ymin;
if(A.ymax>B.ymax){C.fitting=false;if(B.bottomPriority>B.topPriority){A.ymin-=A.ymax-B.ymax;
A.ymax=B.ymax;}}}else{if(A.ymax>B.ymax){C.moved=true;A.ymin-=A.ymax-B.ymax;A.ymax=B.ymax;
if(A.ymin<B.ymin){C.fitting=false;if(B.topPriority>B.bottomPriority){A.ymax+=B.ymin-A.ymin;
A.ymin=B.ymin;}}}}return C;},k=function(B){var C=l(B),A=f(B),D={xmin:C.left,xmax:C.left+A.width-1,ymin:C.top,ymax:C.top+A.height-1,leftPriority:1,rightPriority:1,topPriority:1,bottomPriority:1};
return D;},h=function(B,E){var D=l(B),A=g(B),C=B.get(0),F={xmin:D.left+(C.clientLeft||0),xmax:D.left+(C.clientLeft||0)+A.width-1,ymin:D.top+(C.clientTop||0),ymax:D.top+(C.clientTop||0)+A.height-1,leftPriority:E||1,rightPriority:E||1,topPriority:E||1,bottomPriority:E||1};
return F;},i=function(A){var C=null,D=null,B=0;if(A&&A.length!==0){D=h(A[0],1);for(B=1;
B<A.length;B+=1){C=D;D=n(C,h(A[B],B+1));}}return D;},m=function(C,A){var B=h(A),D={top:0,left:0};
D.left=C.xmin-B.xmin;D.top=C.ymin-B.ymin;D.left-=A.clientLeft||0;D.top-=A.clientTop||0;
D.left+=o(A)?a(window).scrollLeft():A.scrollLeft();D.top+=o(A)?a(window).scrollTop():A.scrollTop();
return D;},b=function(E,G,F,A,B){var C=null,D=null;if(G){a.each(G,function(){C=a(this);
D=k(C);if(E.ymin<=D.ymax){E.ymin=D.ymax+1;E.topPriority=9999;}});}if(A){a.each(A,function(){C=a(this);
D=k(C);if(E.ymax>=D.ymin){E.ymax=D.ymin-1;E.bottomPriority=9999;}});}if(B){a.each(B,function(){C=a(this);
D=k(C);if(E.xmin<=D.xmax){E.xmin=D.xmax+1;E.leftPriority=9999;}});}if(F){a.each(F,function(){C=a(this);
D=k(C);if(E.xmax>=D.xmin){E.xmax=D.xmin-1;E.rightPriority=9999;}});}return E;},e=function(E,G){if(!E.data(d)){return;
}var D=E.data(d),C=D.containers,H=D.placeholder,B=b(i(C),D.toplimits,D.rightlimits,D.bottomlimits,D.leftlimits),I=k(H),A=C[C.length-1],F=u(I,B),J=null;
if(!F.fitting||!F.moved){J=m(I,A);E.css({position:"absolute",left:J.left+"px",top:J.top+"px",width:H.css("width"),height:H.css("height")});
if(!E.hasClass(G.UnfixedClass)){E.removeClass(G.FixedClass).addClass(G.UnfixedClass);
if(G.UnfixedCallback){G.UnfixedCallback(E);}}}else{E.css({position:"fixed",left:I.xmin+"px",top:I.ymin+"px",width:H.width()+"px",height:H.height()+"px"});
if(!E.hasClass(G.FixedClass)){E.removeClass(G.UnfixedClass).addClass(G.FixedClass);
if(G.FixedCallback){G.FixedCallback(E);}}}},y=function(){if(z===true){return;}a(window).resize(function(){a("body").scroll();
});z=true;},x=function(B,F){var A=B.data(d),C=k(B),D=null,E=null;F.each(function(){D=a(this);
E=k(D);if(E.xmax<C.xmin){if(!A.leftlimits){A.leftlimits=[];}A.leftlimits.push(D);
}else{if(E.xmin>C.xmax){if(!A.rightlimits){A.rightlimits=[];}A.rightlimits.push(D);
}}if(E.ymax<C.ymin){if(!A.toplimits){A.toplimits=[];}A.toplimits.push(D);}else{if(E.ymin>C.ymax){if(!A.bottomlimits){A.bottomlimits=[];
}A.bottomlimits.push(D);}}});},w=function(C,I){var B=I.Containers,J=null,K=null,D=null,L=null,H=[],F=[],E=0,A=null,M=null;
if(o(C)||q(C)||r(C)||p(C)){s("FixedPanel: supplied element must not be the body- or html-element or the window- or document-object.");
return;}if(C.data(d)){s("FixedPanel: supplied element is already setup.");return;
}J=C;do{J=J.offsetParent();if(J.length!==0){H.unshift(J);}}while(J.length!==0&&!o(J));
A=function(){var N=this;if(q(N)||r(N)){N=a("body").get(0);}if(N===H[E].get(0)){F.push(H[E]);
return false;}};for(E=0;E<H.length&&F.length!=B.length;E+=1){B.each(A);}if(F.length===0){s("FixedPanel: supplied containers are not offsetParents.");
return;}if(F.length!==B.length){s("FixedPanel: some supplied containers are not offsetParents.");
}D=F[F.length-1];M=function(P){var N=r(a(this))?a("body"):a(this),R=a(this),O=N.data(c),Q=0;
R.scrollLeft(R.scrollLeft());R.scrollTop(R.scrollTop());if(!O||!O.elements||O.elements.length===0){return;
}P.stopPropagation();for(Q=0;Q<O.elements.length;Q+=1){e(O.elements[Q],I);}};for(E=0;
E<H.length;E+=1){var G=H[E];if(!G.data(c)){G.data(c,{elements:[C]});if(o(G)){a(window).scroll(M);
}else{G.scroll(M);}}else{G.data(c).elements.push(C);}}K=a("<div></div>").height(C.height()).width(C.width()).addClass(I.PlaceholderClass).css({"border-color":"transparent",position:C.css("position"),left:C.css("left"),top:C.css("top"),"margin-top":C.css("margin-top"),"margin-right":C.css("margin-right"),"margin-bottom":C.css("margin-bottom"),"margin-left":C.css("margin-left"),"padding-top":C.css("padding-top"),"padding-right":C.css("padding-right"),"padding-bottom":C.css("padding-bottom"),"padding-left":C.css("padding-left"),"border-left-width":C.css("border-left-width"),"border-top-width":C.css("border-top-width"),"border-right-width":C.css("border-right-width"),"border-bottom-width":C.css("border-bottom-width"),"border-left-style":C.css("border-left-style"),"border-top-style":C.css("border-top-style"),"border-right-style":C.css("border-right-style"),"border-bottom-style":C.css("border-bottom-style"),"float":C.css("float"),clear:C.css("clear")});
L=l(C,D);K.insertAfter(C);C=C.remove();C.css({position:"absolute",left:L.left+"px",top:L.top+"px","z-index":10}).addClass(I.FixedClass);
D.append(C);C.data(d,{placeholder:K,containers:F,leftlimits:null,toplimits:null,rightlimits:null,bottomlimmits:null});
if(I.Limits){x(C,I.Limits);}D.scroll();},t={init:function(A){var B=null;var C=a.extend({Containers:null,Limits:null,PlaceholderClass:"fixedpanel-placeholder",FixedClass:"fixedpanel-fixed",UnfixedClass:"fixedpanel-unfixed",FixedCallback:null,UnfixedCallback:null},A);
if(!C.Containers||!(C.Containers instanceof jQuery)||C.Containers.length===0){C.Containers=a("body");
}if(!C.Limits||!(C.Limits instanceof jQuery)||C.Limits.length===0){C.Limits=null;
}B=this.each(function(){w(a(this),C);y();});a("body").scroll();return B;}};a.fn.FixedPanel=function(A){if(t[A]){return t[A].apply(this,Array.prototype.slice.call(arguments,1));
}if(typeof A==="object"||!A){return t.init.apply(this,arguments);}a.error("Method "+A+" does not exist on jQuery.FixedPanel");
};}(jQuery));