!function(e){e.extend({message:function(t,a,o,l){o=o||e.noop,l=l||{},e.dialog(e.extend(!0,{title:t||"提示信息",message:a,width:l.width||"800px",modalName:l.modalName,customScrollbar:!1,buttons:{cancel:{label:"确 定",className:"btn-default",callback:function(){return e.isFunction(o)?o.call(this):!0}}}},l||{}))},alert:function(t,a,o){if(t&&t.indexOf("timeSettingInfo")>10){if(o=e.extend(!0,{},{width:"700px",modalName:"timeSettingModal"},o||{}),e("#"+o.modalName).size()>0)return;e.message("功能时间开放提示",t,a,o)}else{var l=e.getTextLength(t||""),n=Math.ceil(l%50/50)+parseInt(l/50),r=300+(n>0?30*(n-1):0);if(o=e.extend(!0,{},{width:r+"px",modalName:"alertModal",customScrollbar:!1},o||{}),e("#"+o.modalName).size()>0)return;bootbox.alert("提示信息",'<div class="alert alert-modal"><p>'+t+"</p></div>",function(t){return e.isFunction(a)?a.call(this,t):!0},o)}},error:function(t,a,o){if(t&&t.indexOf("timeSettingInfo")>10){if(o=e.extend(!0,{},{width:"700px",modalName:"timeSettingModal"},o||{}),e("#"+o.modalName).size()>0)return;e.message("功能时间开放提示",t,a,o)}else{var l=e.getTextLength(t||""),n=Math.ceil(l%50/50)+parseInt(l/50),r=300+(n>0?30*(n-1):0);if(o=e.extend(!0,{},{width:r+"px",modalName:"errorModal",customScrollbar:!1},o||{}),e("#"+o.modalName).size()>0)return;bootbox.alert("错误提示",'<div class="error error-modal"><p>'+t+"</p></div>",function(t){return e.isFunction(a)?a.call(this,t):!0},o)}},success:function(t,a,o){if(t&&t.indexOf("timeSettingInfo")>10){if(o=e.extend(!0,{},{width:"700px",modalName:"timeSettingModal"},o||{}),e("#"+o.modalName).size()>0)return;e.message("功能时间开放提示",t,a,o)}else{var l=e.getTextLength(t||""),n=Math.ceil(l%50/50)+parseInt(l/50),r=300+(n>0?30*(n-1):0);if(o=e.extend(!0,{},{width:r+"px",modalName:"successModal",customScrollbar:!1},o||{}),e("#"+o.modalName).size()>0)return;bootbox.alert("成功提示",'<div class="success success-modal"><p>'+t+"</p></div>",function(t){return e.isFunction(a)?a.call(this,t):!0},o)}},confirm:function(t,a,o){if(t&&t.indexOf("timeSettingInfo")>10){if(o=e.extend(!0,{},{width:"700px",modalName:"timeSettingModal"},o||{}),e("#"+o.modalName).size()>0)return;e.message("功能时间开放提示",t,a,o)}else{var l=e.getTextLength(t||""),n=Math.ceil(l%50/50)+parseInt(l/50),r=300+(n>0?30*(n-1):0);if(o=e.extend(!0,{},{width:r+"px",modalName:"confirmModal",customScrollbar:!1},o||{}),e("#"+o.modalName).size()>0)return;bootbox.confirm("警告窗口",'<div class="alert confirm-modal"><p>'+t+"</p></div>",function(t){return e.isFunction(a)?a.call(this,t):!0},o)}},prompt:function(t,a){a=e.extend(!0,{},{width:"300px",modalName:"promptModal",customScrollbar:!1},a||{}),e("#"+a.modalName).size()>0||bootbox.prompt("提示窗口",function(a){return e.isFunction(t)?t.call(this,a):!0},a)},showDialog:function(t,a,o){o=o||{},e.dialog(e.extend({},o||{},{title:a,href:t||"",data:o.data||{}}))},dialog:function(t){var a={title:"提示窗口",href:"",data:{},message:"",locale:"zh_CN",backdrop:"static",keyboard:!0,offAtOnce:!0,customScrollbar:!0,draggable:!0,loaded:function(){e('[data-toggle*="validation"]').trigger("validation"),e('[data-toggle*="fixed"]').trigger("fixed"),e.fn.tooltip&&e('[data-toggle*="tooltip"]').tooltip({container:"body"})},onClose:null,onEscape:null,onHidden:null},o=e.extend({},a,t);e.founded(o.data.ckUrl)&&(o.data.ckUrl=encodeURIComponent(o.data.ckUrl||"")),e.founded(o.data.shUrl)&&(o.data.shUrl=encodeURIComponent(o.data.shUrl||"")),bootbox.dialog(o)},closeModal:function(e){bootbox.hideModal(e)},closeAllModal:function(){bootbox.hideAll()}}),e.fn.reloadDialog=function(){return this.each(function(){var t=e(this),a=e(t).data("options");a&&e(t).hasClass("bootbox")&&bootbox.loadBody(t,a)})},e.exportDialog=function(t,a,o,l,n,r){if(!e.founded(a))throw new Error("dcclbh 不能为空 !");var i=_path+"/niutal/drdc/export_exportInitDcpz.html",d={dcclbh:a};if(l&&l.length>0)for(var s=0,c=0;c<l.length;c++){var m=l[c];e.trim(m.label).length>0&&e.trim(m.index).length>0&&1!=m.hidden&&(d["colConfig["+s+"].zd"]=m.name,d["colConfig["+s+"].zdmc"]=m.label,d["colConfig["+s+"].xssx"]=s,s++)}if(jQuery.ajaxSetup({async:!1}),e.post(i,d),jQuery.ajaxSetup({async:!0}),o=o||{},o.dcclbh=a,e.founded(n)&&e(n).size()>0){var f=e(n).jqGrid("getGridParam","sortname"),u=e(n).jqGrid("getGridParam","sortorder");e.defined(f)&&(o["queryModel.sortName"]=f),e.defined(u)&&(o["queryModel.sortOrder"]=u)}var p=e.buildForm("drdcForm",t,o);e.dialog({title:"自定义导出",href:_path+"/niutal/drdc/export_exportConfig.html",data:{dcclbh:a},width:"900px",modalName:"ExportModal",buttons:{bcdc:{label:"导出",className:"btn-primary",callback:function(){var t=this.content.saveConfig(p,r);return e.defined(t)?t:!0}},cancel:{label:"取 消",className:"btn-default"}}})},e.showSortDialog=function(t,a,o){if(!e.founded(t))throw new Error("业务数据ID不能为空 !");if(!e.founded(a))throw new Error("功能模块代码不能为空 !");o=e.defined(o)&&jQuery.isFunction(o)?o:e.noop;var l={ywsj_id:t,gnmkdm:a};e.dialog({title:"设置排序优先级",href:_path+"/xtgl/ywsjPxxx_cxYwsjPxxx.html",data:l,width:"500px",modalName:"sortModal",buttons:{success:{label:"确 定",className:"btn-primary",callback:function(){var t=[];return e("#sort_table_body").find("tr.sort-item").each(function(a,o){var n=e(o).data("order");t.push({yxj:a+1,pxfs:e.founded(n)?n:"asc",zdmc:e(o).data("sort")}),l["list["+a+"].yxj"]=a+1,l["list["+a+"].pxfs"]=t[a].pxfs,l["list["+a+"].zdmc"]=t[a].zdmc}),e.ajaxSetup({async:!1}),e.post(_path+"/xtgl/ywsjPxxx_cxYwsjPxxxForUpdate.html",l,function(a){e.closeModal("sortModal"),o.call(this,t)}),e.ajaxSetup({async:!0}),!1}},cancel:{label:"取 消",className:"btn-default"}}})},e.fullAvatarDialog=function(t,a,o){a.upload_url=encodeURIComponent(a.upload_url||""),a.src_url=encodeURIComponent(a.src_url||""),e.dialog({title:t||"富头像上传",draggable:!1,href:_path+"/editor/fullAvatar_cxFullAvatarUpload.html",data:a||{},width:"700px",modalName:"FullAvatarUpload",onHidden:function(){e.isFunction(o)&&o.call(this)},buttons:{success:{label:"上 传",className:"btn-primary",callback:function(){return swf_object&&swf_object.call("upload"),!1}},reelect:{label:"选 择",className:"btn-primary",callback:function(){return swf_object&&swf_object.call("changepanel","upload"),!1}},cancel:{label:"关 闭",className:"btn-default",callback:function(){}}}})},e.fullAvatarURLDialog=function(t,a,o,l,n){if(!e.founded(t))throw new Error("paramURL 不能为空 !");e.post(t,o,function(t){e.fullAvatarDialog(a,e.extend({},l||{},t||{}),n)})},e.reportDialog=function(t,a){if(t=t||{},!e.founded(t.reportID))throw new Error("reportID 不能为空 !");var o=e.extend(!0,{},t,{reportID:encodeURIComponent(t.reportID||""),viewType:"dialog",searchType:t.searchType||"",gnmkdm:t.gnmkdm||e("#gnmkdmKey").val()});e.dialog({title:t.title||"报表预览",href:_path+"/report/report_cxReportIndex.html",data:o,width:t.width||e("#yhgnPage").innerWidth()+"px",modalName:"ReportModal",onHidden:function(){e.isFunction(a)&&a.call(this)},buttons:{cancel:{label:"取 消",className:"btn-default"}}})},e.batchModifyDialog=function(t,a){t=t||{};var o=e.extend(!0,{},t,{gnmkdm:t.gnmkdm||e("#gnmkdmKey").val()});if(!e.founded(o.gnmkdm))throw new Error("gnmkdm 不能为空 !");if(!e.founded(o.plxgURL))throw new Error("plxgURL 不能为空[该路径为最终执行批量修改操作的请求路径] !");e.dialog(e.extend({},addConfig,{title:t.title||"批量修改数据",href:_path+"/xtgl/plxg_cxPlxgSettings.html",data:o,width:t.width||"600px",modalName:"ReportModal",onHidden:function(){e.isFunction(a)&&a.call(this)}}))},e.fn.clearElements=function(){return this.each(function(){if(e(this).is("input,select,textarea"))e(this).clearFields(),e(this).trigger("chosen:updated");else{var t=e(this).find("input,select,textarea").filter(function(t){return!e(this).hasClass("ignore")}),a=e(t).filter('[data-clear="true"]');a.size()>0?(e(a).clearFields(),e(a).trigger("chosen:updated")):(e(t).clearFields(),e(t).trigger("chosen:updated"))}})}}(jQuery);var viewConfig={width:"500px",modalName:"viewModal",offAtOnce:!0,buttons:{cancel:{label:"关 闭",className:"btn-default",callback:function(){}}}},addConfig={width:"900px",modalName:"addModal",formName:"ajaxForm",gridName:"tabGrid",offAtOnce:!1,buttons:{success:{label:"确 定",className:"btn-primary",callback:function(){var e=this,t=e.options||{};return submitForm(t.formName||"ajaxForm",function(a,o){e.reset(),"string"===$.type(a)?a.indexOf("成功")>-1?$.success(a,function(){t.offAtOnce&&$.closeModal(t.modalName),$(e.document).clearElements();var a=$("#"+t.gridName||"tabGrid");$(a).size()>0&&$(a).reloadGrid()}):a.indexOf("失败")>-1?$.error(a,function(){}):$.alert(a,function(){}):$.isPlainObject(a)&&("success"==a.status?$.success(a.message,function(){t.offAtOnce&&$.closeModal(t.modalName),$(e.document).clearElements();var a=$("#"+t.gridName||"tabGrid");$(a).size()>0&&$(a).reloadGrid()}):"error"==a.status?$.error(a.message):$.alert(a.message))}),!1}},cancel:{label:"关 闭",className:"btn-default"}}},modifyConfig={width:"900px",modalName:"modifyModal",formName:"ajaxForm",gridName:"tabGrid",offAtOnce:!0,buttons:{success:{label:"确 定",className:"btn-primary",callback:function(){var e=this,t=e.options||{};return submitForm(t.formName||"ajaxForm",function(a,o){e.reset(),"string"===$.type(a)?a.indexOf("成功")>-1?$.success(a,function(){t.offAtOnce&&$.closeModal(t.modalName||"modifyModal");var e=$("#"+t.gridName||"tabGrid");$(e).size()>0&&$(e).reloadGrid()}):a.indexOf("失败")>-1?$.error(a,function(){}):$.alert(a,function(){}):$.isPlainObject(a)&&("success"==a.status?$.success(a.message,function(){t.offAtOnce&&$.closeModal(t.modalName||"modifyModal");var e=$("#"+t.gridName||"tabGrid");$(e).size()>0&&$(e).reloadGrid()}):"error"==a.status?$.error(a.message):$.alert(a.message))}),!1}},cancel:{label:"关 闭",className:"btn-default"}}},shConfig={width:"900px",modalName:"shModal",fixedTarget:"#fixtop",buttons:{}};