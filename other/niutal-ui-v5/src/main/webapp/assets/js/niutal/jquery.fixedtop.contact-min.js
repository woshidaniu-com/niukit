/*
 * jquery.fixed 插件：详情参见：jquery.fixed.js
 */
;(function(a){a.bootui=a.bootui||{};a.bootui.widget=a.bootui.widget||{};a.bootui.widget.Fixed=function(c,b){b.beforeRender.call(this,c);this.initialize.call(this,c,b);b.afterRender.call(this,c)};a.bootui.widget.Fixed.prototype={constructor:a.bootui.widget.Fixed,initialize:function(c,f){var h=this;this.$element=a(c);this.options=f;this.prefix=f.prefix;if(f.container&&a(f.container).size()==1){var t=a.isWindow(f.container);var j=f.placement.toLowerCase()||"right";a(c).addClass("fixed-"+j);var u=a.extend(true,{},{position:(t?"fixed":"relative"),"z-index":parseInt(f.z_index||1050)+5});if(a.trim(f.margin||"").length>0){a(c).css(""+j,parseInt(a.trim(f.margin))+"px")}function d(){var w=a.Deferred();a(c).css({width:f.width||"40px",height:f.height||"40px"});h.containerPosi=a(f.container).getPosition();h.containerRect=a(f.container).getBoundingRect();h.elementPosi=a(c).getPosition();switch(j){case"left":case"right":var D=f.height?f.height:h.containerPosi.height;a(c).css("height",f.position.height||D||h.elementPosi.height);var E=parseInt(f.position.top||"-1"),B=parseInt(f.position.bottom||"-1");var A=0;var F=Math.abs(h.containerPosi.height-h.elementPosi.height);if(Math.max(E,B)>0){if(E>=B){A=Math.min(F,E)}else{A=Math.abs(F)-B}}else{A=Math.abs(F)/2}a.extend(u,{top:A});break;case"top":case"bottom":var z=h.containerRect["padding-left"];var C=h.containerRect["padding-right"];var x=0;if(!f.width){if(t){x=a(window).width()}else{x=h.containerPosi.width-z-C-h.containerPosi.border}}else{x=f.width}a(c).css("width",f.position.width||x||h.elementPosi.width);var G=parseInt(f.position.left||"-1"),v=parseInt(f.position.right||"-1");var y=0;var F=Math.abs(h.containerPosi.width-h.elementPosi.width);if(Math.max(G,v)>0){if(G>=v){y=Math.min(F,G)}else{y=Math.abs(F)-v}}else{y=Math.abs(F)/2}a.extend(u,{left:y});break}a(c).css(u||{});return w.promise()}d();var e=h.containerRect["margin-top"];var n=h.containerRect["margin-left"];var s=n+a(c).outerWidth(true)*3/2;var q=e+a(c).outerHeight()*3/2;if(t){s+=Math.abs(Math.abs(h.elementPosi.left)-Math.abs(h.containerPosi.left));q+=Math.abs(Math.abs(h.elementPosi.top)-Math.abs(h.containerPosi.top))}var b=h.containerPosi.scrollTop;var o=h.containerPosi.scrollLeft;var i=true;var l=f.animateDelay!=0?(f.animateDelay||200):0;function g(){var v=a.Deferred();switch(j){case"left":case"right":if(!t){a(c).css({top:(b-e)+"px"})}if(b>=f.showPoint){if(i){i=false;a(c).width(0).show(0).animate({width:f.width||"40px"},l)}else{a(c).fadeIn(l)}}else{a(c).fadeOut(l)}break;case"top":case"bottom":if(!t){a(c).css({left:(o-n)+"px"})}if(o>=f.showPoint){if(i){i=false;a(c).height(0).show(0).animate({height:f.height||"40px"},l)}else{a(c).fadeIn(l)}}else{a(c).fadeOut(l)}break}return v.promise()}if(b>=q){g()}else{if(o>=s){g()}}var m=false;var p=f.scrollDelay!=0?(f.scrollDelay||100):0;h.scrollFunc=function(v){if(!m){h.scrollEvent=v;window.setTimeout(function(){b=a(this).scrollTop();o=a(this).scrollLeft();m=true},Math.abs(p-10))}};a(f.container).scroll(h.scrollFunc);h.scrollTimer=window.setInterval(function(){if(m){a.when(g()).done(function(){m=false;(f.onScroll||a.noop).call(this,h.scrollEvent)}).always(function(){})}},p);var r=false;var k=f.resizeDelay!=0?(f.resizeDelay||200):0;h.resizeFunc=function(v){if(!r){window.setTimeout(function(){r=true;h.resizeEvent=v},Math.abs(k-10))}};a(f.container).resize(h.resizeFunc);h.resizeTimer=window.setInterval(function(){if(r){a.when(d(),g()).done(function(){r=false;(f.onResize||a.noop).call(this,h.resizeEvent)}).always(function(){})}},k)}else{throw new Error("Container is not a valid element!")}},destroy:function(){var b=this.options.container;var c=a.isWindow(b);a(b).unbind("scroll",this.scrollFunc);window.clearInterval(this.scrollTimer);a(b).unbind("resize",this.resizeFunc);window.clearInterval(this.resizeTimer);this.$element.off("."+this.prefix).removeData(this.prefix+".widget");var d=this.options.placement.toLowerCase()||"right";a(this.$element).removeClass("fixed-"+d)},setDefaults:function(b){a.extend(a.fn.tooltips.defaults,b)},getDefaults:function(b){return a.fn.tooltips.defaults}};a.fn.fixed=function(c){var b=a.grep(arguments||[],function(e,d){return d>=1});return this.each(function(){var f=a(this);var e=f.data("fixed.widget");if(!e&&c=="destroy"){return}if(!e){var d=a.extend(true,{},a.fn.fixed.defaults,f.data(),((typeof c=="object"&&c)?c:{}));f.data("fixed.widget",(e=new a.bootui.widget.Fixed(this,d)))}if(typeof c=="string"){e[c].apply(e,[].concat(b||[]))}})};a.fn.fixed.defaults={version:"1.0.0",prefix:"fixed",beforeRender:a.noop,errorRender:a.noop,afterRender:a.noop,placement:"right",container:window,width:"auto",height:"auto",margin:"2",showPoint:100,z_index:"1058",resizeDelay:100,scrollDelay:200,animateDelay:200,position:{},onScroll:a.noop,onResize:a.noop};a.fn.fixed.Constructor=a.bootui.widget.Fixed;a(document).on("focus.data-api",'[data-toggle*="fixed"]',function(c){if(c.currentTarget=this){if(a(this).closest(".bootbox").size()>0){var b=a(this).closest(".bootbox");a(this).fixed({container:b,z_index:b.css("z-index")})}else{a(this).fixed({container:"#yhgnPage"})}}})}(jQuery));
/*
 * jquery.fixedtop 插件：详情参见：jquery.fixedtop.js
 */
;(function(a){a.bootui=a.bootui||{};a.bootui.widget=a.bootui.widget||{};a.bootui.widget.FixedTop=function(c,b){b.beforeRender.call(this,c);try{this.initialize.call(this,c,b)}catch(d){b.errorRender.call(this,d)}b.afterRender.call(this,c)};a.bootui.widget.FixedTop.prototype={constructor:a.bootui.widget.FixedTop,initialize:function(f,i){if(i.container&&a(i.container).size()==0){throw new Error("Container is not a valid element!")}var j=this;j.$element=a(f);j.options=i;function o(x){do{x+=~~(Math.random()*1000000)}while(document.getElementById(x));return x}var d=o(i.prefix);j.fixedtop_uid=d;j.prefix=i.prefix;var v=a(f).closest("div.bootbox");j.container=i.container?a(i.container):(a(v).size()>0?a(v).find("div.modal-body"):window);var k=a(v).size()>0?a(v).find("div.modal-body"):document.body;var c=a(v).size()>0?(parseInt(v.css("z-index")||"1050")+90):1010;var u=a.isWindow(j.container);var m=a(j.container)[0].tagName?a(j.container)[0].tagName.toLowerCase()=="body":false;var w=a.extend(true,{},{position:(u?"fixed":"relative"),"z-index":parseInt(i.z_index||c),padding:(u||m)?"0px":" 0px 8px"});var l=a(i.template);l[0].id=d;function g(){var y=a.Deferred();j.containerPosi=a(j.container).getPosition();j.containerRect=a(j.container).getBoundingRect();j.elementPosi=a(f).getPosition();var z=j.containerRect["padding-left"];var x=j.containerRect["padding-right"];a(f).css(a.extend(true,w,{width:u?a(window).width():(j.containerPosi.width-z-x-j.containerPosi.border)}));return y.promise()}g();var h=j.containerRect["margin-top"];var s=h+a(f).outerHeight()*3/2;if(u){s+=Math.abs(Math.abs(j.elementPosi.top)-Math.abs(j.containerPosi.top))}var e=j.containerPosi.scrollTop;var p=i.animateDelay!=0?(i.animateDelay||200):0;function b(){var y=a.Deferred();if(!u){a(f).css({top:(e-h)+"px"})}if(e>=s){var x=a("#"+fixed_uid);if(x.size()==0){a(f).wrap(l)}a(l).fadeIn(p)}else{a(l).fadeOut(p);a(f).unwrap()}return y.promise()}if(e>=s){b()}var q=false;var r=i.scrollDelay!=0?(i.scrollDelay||100):0;j.scrollFunc=function(x){if(!q){j.scrollEvent=x;window.setTimeout(function(){e=a(this).scrollTop();scrollLeft=a(this).scrollLeft();q=true},Math.abs(r-10))}};a(j.container).scroll(j.scrollFunc);j.scrollTimer=window.setInterval(function(){if(q){a.when(b()).done(function(){q=false;(i.onScroll||a.noop).call(this,j.scrollEvent)}).always(function(){})}},r);var t=false;var n=i.resizeDelay!=0?(i.resizeDelay||200):0;j.resizeFunc=function(x){if(!t){window.setTimeout(function(){t=true;j.resizeEvent=x},Math.abs(n-10))}};a(j.container).resize(j.resizeFunc);j.resizeTimer=window.setInterval(function(){if(t){a.when(g(),b()).done(function(){t=false;(i.onResize||a.noop).call(this,j.resizeEvent)}).always(function(){})}},n)},destroy:function(){var b=a.isWindow(this.container);a(this.container).unbind("scroll",this.scrollFunc);window.clearInterval(this.scrollTimer);a(this.container).unbind("resize",this.resizeFunc);window.clearInterval(this.resizeTimer);this.$element.off("."+this.prefix).removeData(this.prefix+".widget");a(document.getElementById(this.fixed_uid)).remove()},setDefaults:function(b){a.extend(a.fn.tooltips.defaults,b)},getDefaults:function(b){return a.fn.tooltips.defaults}};a.fn.fixedtop=function(c){var b=a.grep(arguments||[],function(e,d){return d>=1});return this.each(function(){var f=a(this);var e=a.data(f,"fixedtop.widget");if(!e&&c=="destroy"){return}if(!e){var d=a.extend({},a.fn.fixed.defaults,f.data(),((typeof c=="object"&&c)?c:{}));f.data(d.prefix+".widget",(e=new a.bootui.widget.FixedTop(this,d)))}if(typeof c=="string"){e[c].apply(e,[].concat(b||[]))}})};a.fn.fixedtop.defaults={version:"1.0.0",prefix:"fixedtop",beforeRender:a.noop,errorRender:a.noop,afterRender:a.noop,container:null,width:"500px",z_index:null,resizeDelay:100,scrollDelay:200,animateDelay:200,onScroll:a.noop,onResize:a.noop,template:"<div class='container sl_all_bg fixed-box'></div>"};a.fn.fixedtop.Constructor=a.bootui.widget.FixedTop;a(document).on("fixedtop.widget.data-api",'[data-toggle*="fixedtop"]',function(c){if(c.currentTarget=this){if(a(this).closest(".bootbox").size()>0){var b=a(this).closest(".bootbox");a(this).fixed({scrollElement:b,container:b,width:b.find(".modal-dialog").width(),z_index:b.css("z-index")||1058})}else{a(this).fixedtop({container:"#yhgnPage"})}}})}(jQuery));

