(function(a){function w(d){a.fn.simpleValidate&&a(d).getRealElement().successClass()}function y(d,b,c,h,e,m,r,p){a.founded(c)&&a(c).defined()?d[k(c,b)]=a(c).val():d[k(c,b)]=null;a.founded(h)&&a(h).defined()?d[k(h,b)]=a(h).val():d[k(h,b)]=null;a.founded(e)&&a(e).defined()?d[k(e,b)]=a(e).val():d[k(e,b)]=null;a.founded(m)&&a(m).defined()?d[k(m,b)]=a(m).val():d[k(m,b)]=null;a.founded(r)&&a(r).defined()?d[k(r,b)]=a(r).val():d[k(r,b)]=null;a.founded(p)&&a(p).defined()?d[k(p,b)]=a(p).val():d[k(p,b)]=null}function k(d,b){var c=a(d).attr("name");return a.founded(b[c])?b[c]:c}function q(d,b){var c={};a.each(d||{},function(b,e){a.founded(b)&&a.founded(e)&&!a.isNumeric(b)&&(c[b]=e)});a.each(["mapper","selectAttr","height","title","width"],function(a,b){delete c[b]});return c}function B(d,b,c,h,e,m,r,p){var t={};if(a.founded(b)){var q=b.mapper||{};if(a.founded(c)&&a(c).defined()){c=k(c,q);var n=b[c];a.defined(n)&&(delete b[c],b[c]=n)}a.founded(h)&&a(h).defined()&&(c=k(h,q),n=b[c],a.defined(n)&&(delete b[c],b[c]=n));a.founded(e)&&a(e).defined()&&(c=k(e,q),n=b[c],a.defined(n)&&(delete b[c],b[c]=n));a.founded(m)&&a(m).defined()&&(c=k(m,q),n=b[c],a.defined(n)&&(delete b[c],b[c]=n));a.founded(r)&&a(r).defined()&&(c=k(r,q),n=b[c],a.defined(n)&&(delete b[c],b[c]=n));a.founded(p)&&a(p).defined()&&(c=k(p,q),n=b[c],a.defined(n)&&(delete b[c],b[c]=n));a.each(b,function(a,b){d[a]=b;t[a]=b})}return t}a.extend({bindChangeEvent:function(d,b,c,h,e,m,r,p,t){function A(){if(a.founded(b)&&a(b).defined()){y(f,l,d,b,c,h,e,m);var g=[];g.push('\x3coption value\x3d""\x3e'+t+"\x3c/option\x3e");jQuery.ajaxSetup({async:!1});a.getJSON(_path+"/xtgl/comm_cxXxdmList.html",q.call(this,f,l),function(c){a.founded(c)&&a.each(c,function(c,e){var d="",f=k(b,l);a.founded(u[f])&&u[f]==e.jg_id&&(d=' selected\x3d"selected" ',v());g.push('\x3coption value\x3d"'+e.jg_id+'" '+d+"\x3e"+e.jgmc+"\x3c/option\x3e")})});a(b).empty().append(g.join("")).trigger("chosen:updated");jQuery.ajaxSetup({async:!0})}}function n(){if(a.founded(c)&&a(c).defined()&&a(c).is("select")){a.founded(h)&&a(h).defined()&&a(h).is("select")&&a(h).find("option:gt(0)").remove();a.founded(e)&&a(e).defined()&&a(e).is("select")&&a(e).find("option:gt(0)").remove();y(f,l,d,b,c,h,e,m);var g=[];g.push('\x3coption value\x3d""\x3e'+t+"\x3c/option\x3e");jQuery.ajaxSetup({async:!1});a.getJSON(_path+"/xtgl/comm_cxZydmList.html",q.call(this,f,l),function(b){a.founded(b)&&a.each(b,function(b,e){var d="",f=k(c,l);a.founded(u[f])&&u[f]==e.zyh_id&&(d=' selected\x3d"selected" ',z(),v());g.push('\x3coption value\x3d"'+e.zyh_id+'" '+d+"\x3e"+e.zymc+"\x3c/option\x3e")})});a(c).empty().append(g.join("")).trigger("chosen:updated");jQuery.ajaxSetup({async:!0})}}function z(){if(a.founded(h)&&a(h).defined()&&a(h).is("select")){y(f,l,d,b,c,h,e,m);var g=[];g.push('\x3coption value\x3d""\x3e'+t+"\x3c/option\x3e");jQuery.ajaxSetup({async:!1});a.getJSON(_path+"/xtgl/comm_cxZyfxList.html",q.call(this,f,l),function(b){a.founded(b)&&a.each(b,function(b,c){var e="",d=k(h,l);a.founded(u[d])&&u[d]==c.zyfx_id&&(e=' selected\x3d"selected" ',v());g.push('\x3coption value\x3d"'+c.zyfx_id+'" '+e+"\x3e"+c.zyfxmc+"\x3c/option\x3e")})});a(h).empty().append(g.join("")).trigger("chosen:updated");jQuery.ajaxSetup({async:!0})}}function v(){if(a.founded(e)&&a(e).defined()&&a(e).is("select")){y(f,l,d,b,c,h,e,m);var g=[];g.push('\x3coption value\x3d""\x3e'+t+"\x3c/option\x3e");jQuery.ajaxSetup({async:!1});a.getJSON(_path+"/xtgl/comm_cxBjdmList.html",q.call(this,f,l),function(b){a.founded(b)&&a.each(b,function(b,c){var d="",f=k(e,l);a.founded(u[f])&&u[f]==c.bh_id&&(d=' selected\x3d"selected" ');g.push('\x3coption value\x3d"'+c.bh_id+'" '+d+"\x3e"+c.bj+"\x3c/option\x3e")})});a(e).empty().append(g.join("")).trigger("chosen:updated");jQuery.ajaxSetup({async:!0})}}var x=this,f={};r=a.defined(r)?r:{};p=a.defined(p)&&a.isFunction(p)?p:a.noop;t=a.defined(t)?t:"\u5168\u90e8";var l=r.mapper||{},u=B(f,r,d,b,c,h,e,m);if(a.founded(m)&&a(m).defined()&&a(m).is("select")){var g=k(m,l);a.founded(a(m).val())&&(f[g]=a(m).val());a(m).unbind("change").change(function(){a.founded(a(this).val())?(f[g]=a(this).val(),w(this)):f[g]=null;v();p.call(x,q.call(this,f,l))})}a.founded(d)&&a(d).defined()&&a(d).is("select")&&(g=k(d,l),a.founded(a(d).val())&&(f[g]=a(d).val(),A(),n()),a(d).unbind("change").change(function(){a.founded(a(this).val())?(f[g]=a(this).val(),w(this)):f[g]=null;A();n();z();v();p.call(x,q.call(this,f,l))}));a.founded(b)&&a(b).defined()&&a(b).is("select")&&(g=k(b,l),a.founded(a(b).val())&&(f[g]=a(b).val(),n()),a(b).unbind("change").change(function(){a.founded(a(this).val())?(f[g]=a(this).val(),w(this)):f[g]=null}));a.founded(c)&&a(c).defined()&&a(c).is("select")&&(g=k(c,l),a.founded(a(c).val())&&(f[g]=a(c).val(),z(),v()),a(c).unbind("change").change(function(){a.founded(a(this).val())?(f[g]=a(this).val(),w(this)):f[g]=null;z();v();p.call(x,q.call(this,f,l))}));a.founded(h)&&a(h).defined()&&a(h).is("select")&&(g=k(h,l),a.founded(a(h).val())&&(f[g]=a(h).val()),a(h).unbind("change").change(function(){a.founded(a(this).val())?(f[g]=a(this).val(),w(this)):f[g]=null;p.call(x,q.call(this,f,l))}));a.founded(e)&&a(e).defined()&&a(e).is("select")&&(g=k(e,l),a.founded(a(e).val())&&(f[g]=a(e).val()),a(e).unbind("change").change(function(){a.founded(a(this).val())?(f[g]=a(this).val(),w(this)):f[g]=null;p.call(x,q.call(this,f,l))}))}})})(jQuery);